{"version":3,"sources":["webpack:///./src/app/layout/dashboard/components/map-action/map-action.component.html","webpack:///./src/app/layout/dashboard/components/map-action/map-action.component.less","webpack:///./src/app/layout/dashboard/components/map-action/map-action.component.ts","webpack:///./src/app/layout/dashboard/components/user-selection/user-selection.component.html","webpack:///./src/app/layout/dashboard/components/user-selection/user-selection.component.less","webpack:///./src/app/layout/dashboard/components/user-selection/user-selection.component.ts","webpack:///./src/app/layout/dashboard/container/dashboard.component.html","webpack:///./src/app/layout/dashboard/container/dashboard.component.less","webpack:///./src/app/layout/dashboard/container/dashboard.component.ts","webpack:///./src/app/layout/dashboard/dashboard-routing.module.ts","webpack:///./src/app/layout/dashboard/dashboard.module.ts"],"names":[],"mappings":"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","file":"dashboard-dashboard-module.js","sourcesContent":["module.exports = \"<div class=\\\"dashboard-action-container\\\">\\n  <button mat-raised-button (click)=\\\"onAddLocation()\\\" [disabled]=\\\"disabled\\\" >Add Location</button>\\n  <app-user-selection *ngIf=\\\"showUsersSelection\\\" [userList]=\\\"userList\\\"></app-user-selection>\\n</div>\\n\"","module.exports = \":host .dashboard-action-container {\\n  display: flex;\\n  height: 50px;\\n}\\n:host .dashboard-action-container app-user-selection {\\n  margin-left: 30px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hc2FmbGV2eS9wcm9qZWN0L3dpbnRlZ29fcHJvamVjdC93aW50ZWdvLW1hcC1mcm9udC9zcmMvYXBwL2xheW91dC9kYXNoYm9hcmQvY29tcG9uZW50cy9tYXAtYWN0aW9uL21hcC1hY3Rpb24uY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL2xheW91dC9kYXNoYm9hcmQvY29tcG9uZW50cy9tYXAtYWN0aW9uL21hcC1hY3Rpb24uY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxhQUFBO0VBQ0EsWUFBQTtBQ0FKO0FERUk7RUFDRSxpQkFBQTtBQ0FOIiwiZmlsZSI6InNyYy9hcHAvbGF5b3V0L2Rhc2hib2FyZC9jb21wb25lbnRzL21hcC1hY3Rpb24vbWFwLWFjdGlvbi5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0e1xuICAuZGFzaGJvYXJkLWFjdGlvbi1jb250YWluZXJ7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBoZWlnaHQ6IDUwcHg7XG5cbiAgICAmIGFwcC11c2VyLXNlbGVjdGlvbntcbiAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xuICAgIH1cbiAgfVxufVxuIiwiOmhvc3QgLmRhc2hib2FyZC1hY3Rpb24tY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgaGVpZ2h0OiA1MHB4O1xufVxuOmhvc3QgLmRhc2hib2FyZC1hY3Rpb24tY29udGFpbmVyIGFwcC11c2VyLXNlbGVjdGlvbiB7XG4gIG1hcmdpbi1sZWZ0OiAzMHB4O1xufVxuIl19 */\"","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {UserModel} from '../../../../model/user.model';\n\n@Component({\n  selector: 'app-map-action',\n  templateUrl: './map-action.component.html',\n  styleUrls: ['./map-action.component.less']\n})\nexport class MapActionComponent implements OnInit {\n\n  @Input() showUsersSelection = false;\n  @Input() disabled = false;\n  @Input() userList: UserModel[] = [];\n  @Output() onNewLocationAction = new EventEmitter<boolean>();\n\n  constructor() {\n  }\n\n  onAddLocation() {\n    this.onNewLocationAction.emit();\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<div class=\\\"user-selection-container\\\">\\n  <mat-form-field>\\n    <mat-label>Select User</mat-label>\\n    <mat-select (selectionChange)=\\\"onUserChange($event)\\\">\\n      <mat-option *ngFor=\\\"let user of userList\\\" [value]=\\\"user._id\\\">\\n        {{user.firstName}}  {{user.lastName}}\\n      </mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9kYXNoYm9hcmQvY29tcG9uZW50cy91c2VyLXNlbGVjdGlvbi91c2VyLXNlbGVjdGlvbi5jb21wb25lbnQubGVzcyJ9 */\"","import {Component, Input, OnInit} from '@angular/core';\nimport {UserModel} from '../../../../model/user.model';\nimport {UserService} from '../../../../core/service/user.service';\n\n@Component({\n  selector: 'app-user-selection',\n  templateUrl: './user-selection.component.html',\n  styleUrls: ['./user-selection.component.less']\n})\nexport class UserSelectionComponent implements OnInit {\n  @Input() userList: UserModel[];\n\n  constructor(private userSrv: UserService) {\n  }\n\n  ngOnInit() {\n  }\n\n  onUserChange($event) {\n    this.userSrv.setSelectedUser($event.value);\n  }\n\n}\n","module.exports = \"<div class=\\\"dashboard-container\\\">\\n  <app-progress-bar [isLoading]=\\\"(isLoading$ | async)\\\"></app-progress-bar>\\n  <mat-card>\\n    <app-map-action [disabled]=\\\"authSrv.getUserId() !== selectedUserId\\\" [userList]=\\\"(userList$ | async)\\\" [showUsersSelection]=\\\"userSrv.isAdminUser()\\\"\\n                    (onNewLocationAction)=\\\"onAddLocation()\\\"></app-map-action>\\n  </mat-card>\\n  <agm-map #gm [latitude]=\\\"lat\\\" [longitude]=\\\"lng\\\" [zoom]=\\\"zoom\\\">\\n    <div *ngFor=\\\"let marker of (userData)?.fkLocation\\\" class=\\\"dashboard-marker\\\">\\n      <agm-marker [animation]=\\\"2\\\"\\n                  [label]=\\\"{fontSize: '16px', text:mapSrv.getLocationProperty(marker,'label'), id:mapSrv.getLocationProperty(marker,'_id')}\\\"\\n                  [iconUrl]=\\\"marker.iconUrl\\\"\\n                  [latitude]=\\\"marker.latitude\\\" [longitude]=\\\"marker.longitude\\\"\\n                  (markerClick)=\\\"onMarkerClicked($event)\\\"\\n                  (mouseOver)=\\\"onMouseOver(infoWindow,gm)\\\"\\n                  (mouseOut)=\\\"onMouseOut(infoWindow, $event)\\\">\\n        <agm-info-window [disableAutoPan]=\\\"false\\\" #infoWindow>\\n          <div class=\\\"gmap-info-window-container\\\">\\n            {{marker.info}}\\n          </div>\\n\\n        </agm-info-window>\\n      </agm-marker>\\n    </div>\\n  </agm-map>\\n\\n</div>\\n\"","module.exports = \"/* Colors */\\nagm-map {\\n  height: 100%;\\n}\\n:host .dashboard-container {\\n  width: 100%;\\n  height: 100%;\\n  margin-top: 0px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2Rhc2hib2FyZC9jb250YWluZXIvZGFzaGJvYXJkLmNvbXBvbmVudC5sZXNzIiwiL1VzZXJzL2FzYWZsZXZ5L3Byb2plY3Qvd2ludGVnb19wcm9qZWN0L3dpbnRlZ28tbWFwLWZyb250L3NyYy9hcHAvbGF5b3V0L2Rhc2hib2FyZC9jb250YWluZXIvZGFzaGJvYXJkLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVc7QUNHWDtFQUNFLFlBQUE7QURERjtBQ0lBO0VBRUksV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FESEoiLCJmaWxlIjoic3JjL2FwcC9sYXlvdXQvZGFzaGJvYXJkL2NvbnRhaW5lci9kYXNoYm9hcmQuY29tcG9uZW50Lmxlc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb2xvcnMgKi9cbmFnbS1tYXAge1xuICBoZWlnaHQ6IDEwMCU7XG59XG46aG9zdCAuZGFzaGJvYXJkLWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1hcmdpbi10b3A6IDBweDtcbn1cbiIsIkBpbXBvcnQgXCIuLy4uLy4uLy4uLy4uL3N0eWxlcy9fdmFyaWFibGVzXCI7XG5cblxuYWdtLW1hcCB7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuOmhvc3Qge1xuICAuZGFzaGJvYXJkLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG1hcmdpbi10b3A6IDBweDtcbiAgfVxufVxuIl19 */\"","import {AfterViewInit, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {AgmInfoWindow, AgmMap, AgmMarker} from '@agm/core';\nimport * as fromState from './../../../store/users';\nimport {Actions, ofActionSuccessful, Select, Store} from '@ngxs/store';\nimport {Observable} from 'rxjs';\nimport {UserModel} from '../../../model/user.model';\nimport {untilComponentDestroyed} from '@w11k/ngx-componentdestroyed';\nimport {MarkerEditDialogService} from '../../marker-edit/service/marker-edit.service';\nimport {LocationModel} from '../../../model/location.model';\nimport {MapService} from '../../service/map.service';\nimport {AuthService} from '../../../core/auth/auth.srv';\nimport {UserService} from '../../../core/service/user.service';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.less']\n})\nexport class DashboardComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @Select(fromState.UsersState.isLoading) isLoading$: Observable<boolean>;\n  @Select(fromState.UsersState.getUsersDetails) userData$: Observable<UserModel>;\n  @Select(fromState.UsersState.getAllUsers) userList$: Observable<UserModel[]>;\n\n  @ViewChild(AgmMap) gm;\n  @ViewChild(AgmInfoWindow) infoWindow;\n  selectedUserId: string;\n  userData: UserModel;\n  map: any = null;\n  zoom = 6;\n  lat = 51.678418;\n  lng = 7.809007;\n\n  constructor(private store: Store, public authSrv: AuthService, private actions$: Actions, public userSrv: UserService,\n              private markerDlgSrv: MarkerEditDialogService, public mapSrv: MapService) {\n\n    this.selectedUserId = this.authSrv.getUserId();\n\n    this.userData$.pipe(untilComponentDestroyed(this)).subscribe(resData => {\n      this.userData = resData;\n      if (this.userData && this.userData.fkLocation && this.userData.fkLocation.length) {\n        const lat = this.userData.fkLocation[0].latitude;\n        const log = this.userData.fkLocation[0].longitude;\n        this.mapSrv.centerMapAroundMarker(this.map, lat, log);\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.actions$.pipe(\n      untilComponentDestroyed(this),\n      ofActionSuccessful(fromState.USER_UPDATE_LOCATION_SUCCESS)).subscribe((location: LocationModel) => {\n      this.mapSrv.centerMapAroundMarker(this.map, location.latitude, location.longitude);\n    });\n\n    this.userSrv.getSelectedUser().pipe(untilComponentDestroyed(this)).subscribe((userId) => {\n      this.selectedUserId = userId;\n      this.store.dispatch(new fromState.UsersDetails(userId));\n    });\n  }\n\n  ngAfterViewInit() {\n    this.gm.mapReady.subscribe(map => {\n      this.map = map;\n      this.store.dispatch(new fromState.UsersDetails());\n    });\n  }\n\n\n  async onMarkerClicked(marker: AgmMarker) {\n    const markerData = this.userData.fkLocation.filter((loc: LocationModel) => {\n      return loc._id === marker.label['id'];\n    })[0];\n    await this.mapSrv.centerMapAroundMarker(this.map, marker.latitude, marker.longitude);\n    this.markerDlgSrv.openMarkerEditDialog({markerData, userId: this.authSrv.getUserId()});\n  }\n\n  onAddLocation() {\n    const tempLocation = this.mapSrv.createLocation();\n    this.markerDlgSrv.openMarkerEditDialog({markerData: tempLocation, userId: this.authSrv.getUserId()});\n  }\n\n  onMouseOver(infoWindow, gm) {\n    if (gm.lastOpen != null) {\n      gm.lastOpen.close();\n    }\n    gm.lastOpen = infoWindow;\n    infoWindow.open();\n  }\n\n  onMouseOut(infoWindow, $event: MouseEvent) {\n    infoWindow.close();\n  }\n\n  ngOnDestroy(): void {\n  }\n\n\n}\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {DashboardComponent} from './container/dashboard.component';\n\nconst routes: Routes = [\n  {path: '', component: DashboardComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DashboardRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {SharedModule} from '../../shared/shared.module';\nimport {DashboardComponent} from './container/dashboard.component';\nimport {AgmCoreModule} from '@agm/core';\nimport {DashboardRoutingModule} from './dashboard-routing.module';\nimport { MapActionComponent } from './components/map-action/map-action.component';\nimport { UserSelectionComponent } from './components/user-selection/user-selection.component';\n\n@NgModule({\n  declarations: [DashboardComponent, MapActionComponent, UserSelectionComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    DashboardRoutingModule,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyCJO8-vFe0zqQaSrzIqcpftDiwJYbQB2bQ'\n      //apiKey: 'AIzaSyDEhMCTsKcRrtSy59Nmn4PgCPxE8DTurSY'\n    })\n  ]\n})\nexport class DashboardModule {\n}\n"],"sourceRoot":""}